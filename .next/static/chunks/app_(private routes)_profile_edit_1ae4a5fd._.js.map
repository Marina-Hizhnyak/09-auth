{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/(private routes)/profile/edit/EditProfilePage.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"actions\": \"EditProfilePage-module__XoJWpq__actions\",\n  \"avatar\": \"EditProfilePage-module__XoJWpq__avatar\",\n  \"cancelButton\": \"EditProfilePage-module__XoJWpq__cancelButton\",\n  \"formTitle\": \"EditProfilePage-module__XoJWpq__formTitle\",\n  \"input\": \"EditProfilePage-module__XoJWpq__input\",\n  \"mainContent\": \"EditProfilePage-module__XoJWpq__mainContent\",\n  \"profileCard\": \"EditProfilePage-module__XoJWpq__profileCard\",\n  \"profileInfo\": \"EditProfilePage-module__XoJWpq__profileInfo\",\n  \"saveButton\": \"EditProfilePage-module__XoJWpq__saveButton\",\n  \"usernameWrapper\": \"EditProfilePage-module__XoJWpq__usernameWrapper\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/marina/Projects/09-auth/app/%28private%20routes%29/profile/edit/page.tsx"],"sourcesContent":["\n'use client';\n\nimport { useEffect, useState, type FormEvent } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Image from 'next/image';\n\nimport { getMe, updateMe } from '@/lib/api/clientApi';\nimport { useAuthStore } from '@/lib/store/authStore';\n\nimport css from './EditProfilePage.module.css';\n\nexport default function EditProfilePage() {\n  const router = useRouter();\n  const { user, setUser } = useAuthStore();\n\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [avatar, setAvatar] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSaving, setIsSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n\n  useEffect(() => {\n    let ignore = false;\n\n    const loadUser = async () => {\n      try {\n        setIsLoading(true);\n        setError(null);\n\n    \n        let currentUser = user;\n        if (!currentUser) {\n          currentUser = await getMe();\n          setUser(currentUser);\n        }\n\n        if (!ignore && currentUser) {\n          setUsername(currentUser.username ?? ''); \n          setEmail(currentUser.email ?? '');\n          setAvatar(\n            currentUser.avatar ?? 'https://ac.goit.global/img/user-avatar-placeholder.jpg',\n          );\n        }\n      } catch (err) {\n        console.error(err);\n        setError('Failed to load profile data.');\n      } finally {\n        if (!ignore) {\n          setIsLoading(false);\n        }\n      }\n    };\n\n    loadUser();\n\n    return () => {\n      ignore = true;\n    };\n  }, [user, setUser]);\n\n  const handleSubmit = async (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    setError(null);\n\n    try {\n      setIsSaving(true);\n      const updatedUser = await updateMe({ username });\n      setUser(updatedUser); \n      router.push('/profile'); \n    } catch (err) {\n      console.error(err);\n      setError('Failed to update profile.');\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleCancel = () => {\n    router.push('/profile');\n  };\n\n  if (isLoading) {\n    return (\n      <main className={css.mainContent}>\n        <div className={css.profileCard}>\n          <p>Loading profile...</p>\n        </div>\n      </main>\n    );\n  }\n\n  return (\n    <main className={css.mainContent}>\n      <div className={css.profileCard}>\n        <h1 className={css.formTitle}>Edit Profile</h1>\n\n        <Image\n          src={avatar || 'https://ac.goit.global/img/user-avatar-placeholder.jpg'}\n          alt=\"User Avatar\"\n          width={120}\n          height={120}\n          className={css.avatar}\n        />\n\n        <form className={css.profileInfo} onSubmit={handleSubmit}>\n          <div className={css.usernameWrapper}>\n            <label htmlFor=\"username\">Username:</label>\n            <input\n              id=\"username\"\n              type=\"text\"\n              className={css.input}\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n          </div>\n\n          <p>Email: {email}</p>\n\n          {error && <p className={css.error}>{error}</p>}\n\n          <div className={css.actions}>\n            <button\n              type=\"submit\"\n              className={css.saveButton}\n              disabled={isSaving}\n            >\n              {isSaving ? 'Savingâ€¦' : 'Save'}\n            </button>\n            <button\n              type=\"button\"\n              className={css.cancelButton}\n              onClick={handleCancel}\n            >\n              Cancel\n            </button>\n          </div>\n        </form>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}